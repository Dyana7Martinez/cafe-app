<div class="container mt-4">
  <h3>Carrito de Compras</h3>

  <div *ngIf="carrito.length === 0" class="alert alert-info">
    No hay productos en el carrito.
  </div>

  <div *ngFor="let item of carrito" class="card mb-2 p-2 shadow-sm">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center">
        <img [src]="item.producto.imagen" alt="{{item.producto.nombre}}" width="60" class="me-3 rounded">
        <div>
          <h5>{{item.producto.nombre}}</h5>
          <p>Precio: ${{item.producto.precio}}</p>
          <p>
            Cantidad:
            <input type="number" min="1" [(ngModel)]="item.cantidad"
                   (change)="cambiarCantidad(item, item.cantidad)" style="width:60px;">
          </p>
        </div>
      </div>
      <button class="btn btn-danger btn-sm" (click)="eliminar(item)">Eliminar</button>
    </div>
  </div>

  <div *ngIf="carrito.length > 0" class="mt-3">
    <h5>Datos del cliente</h5>
    <input type="text" class="form-control mb-2" placeholder="Nombre" [(ngModel)]="nombreUsuario">
    <input type="text" class="form-control mb-2" placeholder="Mesa" [(ngModel)]="mesa">
    <textarea class="form-control mb-2" placeholder="Observaciones" [(ngModel)]="observaciones"></textarea>

    <h5>Total: ${{ getTotal() }}</h5>
    <button class="btn btn-success mt-2" (click)="comprar()">Comprar</button>
  </div>
</div>
