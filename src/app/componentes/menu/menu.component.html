<div class="container mt-4">

  <!-- Pestañas de categorías -->
  <ul class="nav nav-tabs mb-3">
    <li class="nav-item" *ngFor="let cat of categorias">
      <a class="nav-link" [class.active]="cat === categoriaActiva" (click)="categoriaActiva = cat">
        {{cat | titlecase}}
      </a>
    </li>
  </ul>

  <!-- Productos de la categoría activa -->
  <div class="list-group">
    <div class="list-group-item mb-3 shadow-sm p-3" *ngFor="let producto of productosDe(categoriaActiva)">
      <div class="row align-items-center">

        <!-- Imagen del producto -->
        <div class="col-md-4">
          <img [src]="producto.imagen"
               class="img-fluid rounded"
               alt="{{producto.nombre}}"
               style="height:180px; object-fit:cover; width:100%;">
        </div>

        <!-- Información del producto -->
        <div class="col-md-5">
          <h5 class="mb-1">{{producto.nombre}}</h5>
          <p class="mb-1">$ {{producto.precio}}</p>
          <p class="text-muted mb-1">{{producto.descripcion}}</p>
        </div>

        <!-- Botón agregar -->
        <div class="col-md-3 text-end">
          <button class="btn btn-primary" (click)="abrirModal(producto)">
            <i class="fas fa-plus me-1"></i> Agregar
          </button>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- Modal para agregar detalles del pedido -->
<div class="modal fade" id="pedidoModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalles del pedido</h5>
        <button type="button" class="close" data-bs-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <form #pedidoForm="ngForm">
          <div class="mb-2">
            <label>Nombre</label>
            <input type="text" class="form-control" [(ngModel)]="pedido.nombreUsuario" name="nombreUsuario" required>
          </div>
          <div class="mb-2">
            <label>Mesa</label>
            <input type="number" class="form-control" [(ngModel)]="pedido.mesa" name="mesa" required>
          </div>
          <div class="mb-2">
            <label>Observaciones</label>
            <textarea class="form-control" [(ngModel)]="pedido.observaciones" name="observaciones"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button class="btn btn-primary" (click)="guardarPedido()">Guardar</button>
      </div>
    </div>
  </div>
</div>
