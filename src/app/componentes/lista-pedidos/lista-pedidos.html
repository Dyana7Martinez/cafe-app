<div class="container py-4">

  <h2 class="text-center mb-4">ðŸ“¦ Lista de Pedidos</h2>

  <!-- Loader -->
  <div *ngIf="loading" class="text-center my-4">
    <div class="spinner-border text-primary"></div>
    <p>Cargando pedidos...</p>
  </div>

  <!-- Si NO hay pedidos -->
  <div *ngIf="!loading && pedidos.length === 0" class="alert alert-info text-center">
    No hay pedidos registrados.
  </div>

  <!-- SI hay pedidos -->
  <div *ngIf="pedidos.length > 0">

    <table class="table table-bordered table-striped">
      <thead class="thead-dark">
        <tr>
          <th>ID</th>
          <th>Usuario</th>
          <th>Fecha</th>
          <th>Total</th>
          <th>Items</th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let pedido of pedidos">

          <td>{{ pedido.id }}</td>

          <td>{{ pedido.usuarioId }}</td>

          <td>{{ pedido.timestamp | date:'short' }}</td>

          <td><b>$ {{ pedido.totalPedido }}</b></td>

          <td>
            <ul class="list-unstyled">
              <li *ngFor="let item of pedido.items">
                âœ” {{ item.menu.name }} (x{{ item.quantity }})
                â€” <b>$ {{ item.total }}</b>
              </li>
            </ul>
          </td>

          <td>
            <button class="btn btn-danger btn-sm" (click)="eliminarPedido(pedido.id)">
              <i class="fa fa-trash"></i> Eliminar
            </button>
          </td>

        </tr>
      </tbody>
    </table>

  </div>

</div>
